<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Obsessão por tipos primitivos - Ghiorzi&#x27;s blog</title><meta name="gridsome:hash" content="555e1be2ae31565c2eecdca8b5fb650c6a3f8a3c"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="description" content="O conceito de obsessão por tipos primitivos é auto-explicativo: uso excessivo de tipos primitivos. Parece ser algo notório, mas apenas parece."><meta data-vue-tag="ssr" name="image" content="/assets/static/Obsessao-por-tipos-primitivos.07cc2b7.47f730cbf75a60d7b9cd3c8e459e4a48.jpg"><meta data-vue-tag="ssr" name="author" content="Rodrigo Ghiorzi"><meta data-vue-tag="ssr" name="publish_date" content="01/10/2019"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.24d55fb344d01bfaf4203c4241d881e2.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.24d55fb344d01bfaf4203c4241d881e2.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.24d55fb344d01bfaf4203c4241d881e2.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.24d55fb344d01bfaf4203c4241d881e2.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.24d55fb344d01bfaf4203c4241d881e2.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.24d55fb344d01bfaf4203c4241d881e2.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.24d55fb344d01bfaf4203c4241d881e2.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.24d55fb344d01bfaf4203c4241d881e2.png"><link rel="preload" href="/assets/css/0.styles.820c4209.css" as="style"><link rel="preload" href="/assets/js/app.542c1657.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--post-vue.de35c525.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.40158b50.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.bf594145.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.3f8e1c71.js"><link rel="stylesheet" href="/assets/css/0.styles.820c4209.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div id="app" data-server-rendered="true"><header class="header"><div class="header__left"><a href="/" class="logo active"><span class="logo__text"> ← </span></a></div></header><main class="main"><div class="post-title"><h1 class="post-title__text">
      Obsessão por tipos primitivos
    </h1><div class="post-meta">
  Publicado em 01/10/2019
</div></div><div class="post content-box"><div class="post__header"><img alt="Cover image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 860 574' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-39c85ac8c7ce9e1e5fe3d49af7f95911'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='10'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-39c85ac8c7ce9e1e5fe3d49af7f95911)' width='860' height='574' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAArAEADASIAAhEBAxEB/8QAGQAAAwEBAQAAAAAAAAAAAAAABAUGAwIH/8QALhAAAgIBAwIFBAIBBQAAAAAAAQIDBBEAEiEFMRMiQVFhBhRxkTKBIyQzQkOh/8QAGQEAAwEBAQAAAAAAAAAAAAAAAgMEAQAF/8QAIBEAAgICAgMBAQAAAAAAAAAAAQIAEQMhEkETIjEEUf/aAAwDAQACEQMRAD8A8MpEdTV4Z1Kb2DEqeCM8AH9acJ9JmZN9Moqgebf2zpXSqzxQzLSdLMbDcUfiWIAegH8x%2bP1o6r1m9c/0ME22tGMtKi8sPQfGlkX9iSrA8h8gorv0lmIhKMG83mzxoKWx1CSRmiJcyEDA/wCKjTuGuDFOtpfE825Wz6AdtbPYq0ehyitA7E8SSOMGQ%2bp/HxoPYaJjcaBjyO5ORV71m/sgnEKL/OTOCo9vnWj9IrzLJNCJ7eOGkdgo3f3oulFVt2AZIPOxDbMsOBjn20V1R4YesR0atZ4wcCQbsrz8e2uYNcpVRj6u5P2Olmv/AJkgj2MpGQ4fQt%2bkft1sb9w4QKOcafdRpwU5pdyjwcgBgCoBbPl/WuZ66wpBUrxEsqtKWLcYHv8AgnWoDe5JkzoxBUQH71rJT7aJywOVEQJb%2byO2m9e6fuGS6kUdns7p6%2b289ifn96nK8t%2bORlaJ0VlI2CMqv5GiYukW7cHjbXMUTebYhPJ76ZdHcb41CcTKhrlRFHiNkBwHUgh8fA7f3nWV6KnI0kcCNFC7FljaTcce2kcFaeSmy%2bGU2jIJ48vocf1renWskC/PBI9NX/yEe2l5W3QlX5sKILr7KvqH09L0av0efxWLXlLuFGTGvp/566mLNHxrPjw2W4lK%2bJKfjvjTm/bv3Ltu5bsxSQSKEhWN9uxQPIqqfbWPTlfrRrRw1lVN%2bzw9mNxHc59fnQmybU6jjQWiNzOOBkpNFYuPOikd1BCnuNBdUEkatZLxl/BOAB/HnJOqD6u6TN0SBTK%2b5nk2eUAgKPXjtk9h7ajprcc9coyeU43D39%2bffRK88hvyuns0JpTVLEEsFFLayxJ4oJmIBAIyOOcYyedNoerzRwCW9JLBGgHkicjcQOx55z7DSD6bPh9ehiQBYzuUgDuPY646tI8tiOORiUVVIHsT308ADcpZidw9epSyyy2VUu7/AO6ox5QR5QPgDXF%2bz1SxHJVrCSKg5G1RwCcZwc/jOu/qGNK9WJIFEalFJ2DBJx6n10Nve1Tjjnd3SIYRdxwOBpSr7Fv7KGYhQh6mVJTZsVYJJt6O%2bwbjhlI4xxxqv%2bnb0v051KaWalJJFASkPinAXvl8jORx66mOnRIOp1CFAMdoKuB2GM6NRmsU7zzMWZpFJOee2sGm49VMd%2bCeTu4N1zr9vqfULVy1ZeNJWzsj2BR7Dk89tJwK0su%2bVrBB/wCzcDg/AHGnroqwBQAQA2M8n9nUezFmYE8buw4GjCjqTrn8h3P/2Q==' /%3e%3c/svg%3e" width="860" data-src="/assets/static/Obsessao-por-tipos-primitivos.07cc2b7.47f730cbf75a60d7b9cd3c8e459e4a48.jpg" data-srcset="/assets/static/Obsessao-por-tipos-primitivos.a67b0b2.47f730cbf75a60d7b9cd3c8e459e4a48.jpg 480w, /assets/static/Obsessao-por-tipos-primitivos.07cc2b7.47f730cbf75a60d7b9cd3c8e459e4a48.jpg 860w" data-sizes="(max-width: 860px) 100vw, 860px" class="g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/Obsessao-por-tipos-primitivos.07cc2b7.47f730cbf75a60d7b9cd3c8e459e4a48.jpg" class="g-image g-image--loaded" width="860" alt="Cover image"></noscript></div><div class="post__content"><h2 id="introdução"><a href="#introdu%C3%A7%C3%A3o" aria-hidden="true"><span class="icon icon-link"></span></a>Introdução</h2>
<p>O conceito de obsessão por tipos primitivos é auto-explicativo: uso excessivo de tipos primitivos. Parece ser algo notório, mas apenas parece. </p>
<p>A obsessão por tipos primitivos nasce em momentos de obscurantismo e somente nos cientificamos de sua existência após cometer os mesmos equívocos incomensuráveis vezes.</p>
<h2 id="1-cenário"><a href="#1-cen%C3%A1rio" aria-hidden="true"><span class="icon icon-link"></span></a>1. Cenário</h2>
<p>Para ilustrar o tema criaremos uma classe chamada Account para simbolizar uma conta de acesso.</p>
<pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Account</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span></code></pre>
<p>Para cadastrar uma conta no nosso sistema hipotético definiu-se que:</p>
<ul>
<li>Uma conta de acesso deve conter um nome de usuário;</li>
<li>Uma conta de acesso deve conter um email;</li>
<li>Por fim, uma conta de acesso deve conter uma senha.</li>
</ul>
<p>Em seguida, nós temos a fabulosa ideia de criar todas essas propriedades como strings.</p>
<pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Account</span> 
<span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token function">Account</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> username<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> email<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> password<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Username <span class="token operator">=</span> username<span class="token punctuation">;</span>
        Email <span class="token operator">=</span> email<span class="token punctuation">;</span>
        Password <span class="token operator">=</span> password<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Username <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">private</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Email <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">private</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Password <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">private</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>Até aí tudo bem, disse o frango na porta do forno _(ヅ)_/</p>
<p>“Nome de usuário, email e senha são representações textuais, logo são strings”. Acontece que o mundo gira e vacilão roda. Senha não é uma representação textual qualquer, existem critérios que podem categorizá-la como valida ou invalida, segura ou insegura, da mesma forma que existem premissas que um email deve seguir.</p>
<p>Veja só, a bola de lama que a nossa classe está se tornando:</p>
<pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Account</span> 
<span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token function">Account</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> username<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> email<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> password<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// validate username</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">IsNullOrEmpty</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token string">"Email is invalid."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Regex<span class="token punctuation">.</span><span class="token function">IsMatch</span><span class="token punctuation">(</span>email<span class="token punctuation">,</span> <span class="token string">"Too lazy to write a regex"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token string">"Email is invalid."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// validate password</span>

        Username <span class="token operator">=</span> username<span class="token punctuation">;</span>
        Email <span class="token operator">=</span> email<span class="token punctuation">;</span>
        Password <span class="token operator">=</span> password<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>Ops, começamos a ter código duplicado, afinal precisamos validar o email novamente caso haja alguma tentativa de alterá-lo.</p>
<pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">ChangeEmail</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> email<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">IsNullOrEmpty</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token string">"Email is invalid."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Regex<span class="token punctuation">.</span><span class="token function">IsMatch</span><span class="token punctuation">(</span>email<span class="token punctuation">,</span> <span class="token string">"Too lazy to write a regex"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token string">"Email is invalid."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    Email <span class="token operator">=</span> email<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Parece que email não é simplesmente um texto, não é mesmo? </p>
<h3 id="então-o-que-podemos-mudar"><a href="#ent%C3%A3o-o-que-podemos-mudar" aria-hidden="true"><span class="icon icon-link"></span></a>Então, o que podemos mudar?</h3>
<p>Eu vejo algumas alternativas:</p>
<ul>
<li>Criar um helper para centralizar a lógica de validação de email e senha em métodos específicos (nope);</li>
<li>Criar métodos de extensão para que a string passe a conter os métodos de validação de email e senha (nope);</li>
<li>Criar uma classe chamada AccountValidator a qual será responsável por validar uma Account (nope).</li>
</ul>
<p>E o que todas essas abordagens têm em comum? Elas assumem que não é responsabilidade da classe Account validar um email. E neste ponto eu concordo, realmente não acho que seja responsabilidade dela validar um email, porém algo muito importante está passando despercebido: </p>
<blockquote>
<p>Desde quando é responsabilidade de uma string representar um email?</p>
</blockquote>
<p>Estamos usando uma linguagem que trabalha com o paradigma orientado a objetos, então por que estamos tão obcecados em usar os tipos primitivos? Bora orientar o nosso código! </p>
<p>Tudo o que precisamos fazer é criar um modelo de Email para dispor desta responsabilidade, além disso, podemos usufruir dos operadores implícitos para facilitar a criação dos objetos do tipo Email.</p>
<pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">struct</span> <span class="token class-name">Email</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name"><span class="token keyword">string</span></span> _value<span class="token punctuation">;</span>

    <span class="token keyword">private</span> Email <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
        <span class="token operator">=></span> _value <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">implicit</span> <span class="token keyword">operator</span> Email <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
        <span class="token operator">=></span> <span class="token function">Create</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">Email</span> <span class="token function">Create</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> email<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">IsNullOrEmpty</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token string">"Email is invalid."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Regex<span class="token punctuation">.</span><span class="token function">IsMatch</span><span class="token punctuation">(</span>email<span class="token punctuation">,</span> <span class="token string">"Too lazy to write a regex"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token string">"Email is invalid."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Email</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>E assim preservamos a simplicidade para criar um email.</p>
<pre class="language-csharp"><code class="language-csharp"><span class="token class-name">Email</span> email <span class="token operator">=</span> <span class="token string">"operator@implicito.com"</span><span class="token punctuation">;</span></code></pre>
<p>Pronto, temos uma representação de um email que se preocupa com as responsabilidades de um email. Doravante, a classe Account encarrega-se somente em ratificar se o email é nulo.</p>
<pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> Account <span class="token punctuation">(</span><span class="token class-name">Username</span> username<span class="token punctuation">,</span> <span class="token class-name">Email</span> email<span class="token punctuation">,</span> <span class="token class-name">Password</span> password<span class="token punctuation">)</span>
<span class="token punctuation">{</span>   
    Username <span class="token operator">=</span> username <span class="token operator">??</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token string">"Username cannot be null"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Email <span class="token operator">=</span> email <span class="token operator">??</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token string">"Email cannot be null"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Password <span class="token operator">=</span> password <span class="token operator">??</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token string">"Password cannot be null"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h2 id="palavras-finais"><a href="#palavras-finais" aria-hidden="true"><span class="icon icon-link"></span></a>Palavras finais</h2>
<p>A classe Account passa a ficar menos carregada e nosso código começa a ganhar mais semântica.</p>
<p>Outros exemplos comuns de obsessão por tipos primitivos: CPF, CNPJ, IP, CEP e por ai vai.</p>
</div></div></main></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"Obsessão por tipos primitivos","path":"\u002Fobsessao-por-tipos-primitivos\u002F","date":"01\u002F10\u002F2019","tags":[{"id":"C#","title":"C#","path":"\u002Ftag\u002FC%23\u002F"},{"id":"Reflexão","title":"Reflexão","path":"\u002Ftag\u002FReflex%C3%A3o\u002F"}],"description":"O conceito de obsessão por tipos primitivos é auto-explicativo: uso excessivo de tipos primitivos. Parece ser algo notório, mas apenas parece.","content":"\u003Ch2 id=\"introdução\"\u003E\u003Ca href=\"#introdu%C3%A7%C3%A3o\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EIntrodução\u003C\u002Fh2\u003E\n\u003Cp\u003EO conceito de obsessão por tipos primitivos é auto-explicativo: uso excessivo de tipos primitivos. Parece ser algo notório, mas apenas parece. \u003C\u002Fp\u003E\n\u003Cp\u003EA obsessão por tipos primitivos nasce em momentos de obscurantismo e somente nos cientificamos de sua existência após cometer os mesmos equívocos incomensuráveis vezes.\u003C\u002Fp\u003E\n\u003Ch2 id=\"1-cenário\"\u003E\u003Ca href=\"#1-cen%C3%A1rio\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E1. Cenário\u003C\u002Fh2\u003E\n\u003Cp\u003EPara ilustrar o tema criaremos uma classe chamada Account para simbolizar uma conta de acesso.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-csharp\"\u003E\u003Ccode class=\"language-csharp\"\u003E\u003Cspan class=\"token keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003EAccount\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EPara cadastrar uma conta no nosso sistema hipotético definiu-se que:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EUma conta de acesso deve conter um nome de usuário;\u003C\u002Fli\u003E\n\u003Cli\u003EUma conta de acesso deve conter um email;\u003C\u002Fli\u003E\n\u003Cli\u003EPor fim, uma conta de acesso deve conter uma senha.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EEm seguida, nós temos a fabulosa ideia de criar todas essas propriedades como strings.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-csharp\"\u003E\u003Ccode class=\"language-csharp\"\u003E\u003Cspan class=\"token keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003EAccount\u003C\u002Fspan\u003E \n\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E \n    \u003Cspan class=\"token keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003EAccount\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token class-name\"\u003E\u003Cspan class=\"token keyword\"\u003Estring\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E username\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003E\u003Cspan class=\"token keyword\"\u003Estring\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E email\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003E\u003Cspan class=\"token keyword\"\u003Estring\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E password\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n        Username \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E username\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n        Email \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E email\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n        Password \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E password\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"token keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"token return-type class-name\"\u003E\u003Cspan class=\"token keyword\"\u003Estring\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E Username \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eget\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eset\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"token return-type class-name\"\u003E\u003Cspan class=\"token keyword\"\u003Estring\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E Email \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eget\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eset\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"token return-type class-name\"\u003E\u003Cspan class=\"token keyword\"\u003Estring\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E Password \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eget\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eset\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EAté aí tudo bem, disse o frango na porta do forno _(ヅ)_\u002F\u003C\u002Fp\u003E\n\u003Cp\u003E“Nome de usuário, email e senha são representações textuais, logo são strings”. Acontece que o mundo gira e vacilão roda. Senha não é uma representação textual qualquer, existem critérios que podem categorizá-la como valida ou invalida, segura ou insegura, da mesma forma que existem premissas que um email deve seguir.\u003C\u002Fp\u003E\n\u003Cp\u003EVeja só, a bola de lama que a nossa classe está se tornando:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-csharp\"\u003E\u003Ccode class=\"language-csharp\"\u003E\u003Cspan class=\"token keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003EAccount\u003C\u002Fspan\u003E \n\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E \n    \u003Cspan class=\"token keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003EAccount\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token class-name\"\u003E\u003Cspan class=\"token keyword\"\u003Estring\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E username\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003E\u003Cspan class=\"token keyword\"\u003Estring\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E email\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003E\u003Cspan class=\"token keyword\"\u003Estring\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E password\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token comment\"\u003E\u002F\u002F validate username\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"token keyword\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token keyword\"\u003Estring\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EIsNullOrEmpty\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eemail\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token keyword\"\u003Ethrow\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"token constructor-invocation class-name\"\u003EArgumentException\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"Email is invalid.\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"token keyword\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E!\u003C\u002Fspan\u003ERegex\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EIsMatch\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eemail\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"Too lazy to write a regex\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token keyword\"\u003Ethrow\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"token constructor-invocation class-name\"\u003EArgumentException\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"Email is invalid.\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"token comment\"\u003E\u002F\u002F validate password\u003C\u002Fspan\u003E\n\n        Username \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E username\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n        Email \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E email\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n        Password \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E password\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EOps, começamos a ter código duplicado, afinal precisamos validar o email novamente caso haja alguma tentativa de alterá-lo.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-csharp\"\u003E\u003Ccode class=\"language-csharp\"\u003E\u003Cspan class=\"token keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"token return-type class-name\"\u003E\u003Cspan class=\"token keyword\"\u003Evoid\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003EChangeEmail\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token class-name\"\u003E\u003Cspan class=\"token keyword\"\u003Estring\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E email\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token keyword\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token keyword\"\u003Estring\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EIsNullOrEmpty\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eemail\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token keyword\"\u003Ethrow\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"token constructor-invocation class-name\"\u003EArgumentException\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"Email is invalid.\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"token keyword\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E!\u003C\u002Fspan\u003ERegex\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EIsMatch\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eemail\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"Too lazy to write a regex\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token keyword\"\u003Ethrow\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"token constructor-invocation class-name\"\u003EArgumentException\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"Email is invalid.\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\n    Email \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E email\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EParece que email não é simplesmente um texto, não é mesmo? \u003C\u002Fp\u003E\n\u003Ch3 id=\"então-o-que-podemos-mudar\"\u003E\u003Ca href=\"#ent%C3%A3o-o-que-podemos-mudar\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EEntão, o que podemos mudar?\u003C\u002Fh3\u003E\n\u003Cp\u003EEu vejo algumas alternativas:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ECriar um helper para centralizar a lógica de validação de email e senha em métodos específicos (nope);\u003C\u002Fli\u003E\n\u003Cli\u003ECriar métodos de extensão para que a string passe a conter os métodos de validação de email e senha (nope);\u003C\u002Fli\u003E\n\u003Cli\u003ECriar uma classe chamada AccountValidator a qual será responsável por validar uma Account (nope).\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EE o que todas essas abordagens têm em comum? Elas assumem que não é responsabilidade da classe Account validar um email. E neste ponto eu concordo, realmente não acho que seja responsabilidade dela validar um email, porém algo muito importante está passando despercebido: \u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EDesde quando é responsabilidade de uma string representar um email?\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EEstamos usando uma linguagem que trabalha com o paradigma orientado a objetos, então por que estamos tão obcecados em usar os tipos primitivos? Bora orientar o nosso código! \u003C\u002Fp\u003E\n\u003Cp\u003ETudo o que precisamos fazer é criar um modelo de Email para dispor desta responsabilidade, além disso, podemos usufruir dos operadores implícitos para facilitar a criação dos objetos do tipo Email.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-csharp\"\u003E\u003Ccode class=\"language-csharp\"\u003E\u003Cspan class=\"token keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Estruct\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003EEmail\u003C\u002Fspan\u003E \n\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token keyword\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Ereadonly\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003E\u003Cspan class=\"token keyword\"\u003Estring\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E _value\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"token keyword\"\u003Eprivate\u003C\u002Fspan\u003E Email \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token class-name\"\u003E\u003Cspan class=\"token keyword\"\u003Estring\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Evalue\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E _value \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Evalue\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n    \n    \u003Cspan class=\"token keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Estatic\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eimplicit\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eoperator\u003C\u002Fspan\u003E Email \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token class-name\"\u003E\u003Cspan class=\"token keyword\"\u003Estring\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Evalue\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003ECreate\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token keyword\"\u003Evalue\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n    \n    \u003Cspan class=\"token keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Estatic\u003C\u002Fspan\u003E \u003Cspan class=\"token return-type class-name\"\u003EEmail\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003ECreate\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token class-name\"\u003E\u003Cspan class=\"token keyword\"\u003Estring\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E email\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token keyword\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token keyword\"\u003Estring\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EIsNullOrEmpty\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eemail\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token keyword\"\u003Ethrow\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"token constructor-invocation class-name\"\u003EArgumentException\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"Email is invalid.\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"token keyword\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E!\u003C\u002Fspan\u003ERegex\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EIsMatch\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eemail\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"Too lazy to write a regex\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token keyword\"\u003Ethrow\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"token constructor-invocation class-name\"\u003EArgumentException\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"Email is invalid.\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n        \n        \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"token constructor-invocation class-name\"\u003EEmail\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eemail\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EE assim preservamos a simplicidade para criar um email.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-csharp\"\u003E\u003Ccode class=\"language-csharp\"\u003E\u003Cspan class=\"token class-name\"\u003EEmail\u003C\u002Fspan\u003E email \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"operator@implicito.com\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EPronto, temos uma representação de um email que se preocupa com as responsabilidades de um email. Doravante, a classe Account encarrega-se somente em ratificar se o email é nulo.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-csharp\"\u003E\u003Ccode class=\"language-csharp\"\u003E\u003Cspan class=\"token keyword\"\u003Epublic\u003C\u002Fspan\u003E Account \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token class-name\"\u003EUsername\u003C\u002Fspan\u003E username\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003EEmail\u003C\u002Fspan\u003E email\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token class-name\"\u003EPassword\u003C\u002Fspan\u003E password\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E   \n    Username \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E username \u003Cspan class=\"token operator\"\u003E??\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Ethrow\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"token constructor-invocation class-name\"\u003EArgumentException\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"Username cannot be null\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n    Email \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E email \u003Cspan class=\"token operator\"\u003E??\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Ethrow\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"token constructor-invocation class-name\"\u003EArgumentException\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"Email cannot be null\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n    Password \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E password \u003Cspan class=\"token operator\"\u003E??\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Ethrow\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"token constructor-invocation class-name\"\u003EArgumentException\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"Password cannot be null\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"palavras-finais\"\u003E\u003Ca href=\"#palavras-finais\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EPalavras finais\u003C\u002Fh2\u003E\n\u003Cp\u003EA classe Account passa a ficar menos carregada e nosso código começa a ganhar mais semântica.\u003C\u002Fp\u003E\n\u003Cp\u003EOutros exemplos comuns de obsessão por tipos primitivos: CPF, CNPJ, IP, CEP e por ai vai.\u003C\u002Fp\u003E\n","cover_image":{"type":"image","mimeType":"image\u002Fjpeg","src":"\u002Fassets\u002Fstatic\u002FObsessao-por-tipos-primitivos.07cc2b7.47f730cbf75a60d7b9cd3c8e459e4a48.jpg","size":{"width":860,"height":574},"sizes":"(max-width: 860px) 100vw, 860px","srcset":["\u002Fassets\u002Fstatic\u002FObsessao-por-tipos-primitivos.a67b0b2.47f730cbf75a60d7b9cd3c8e459e4a48.jpg 480w","\u002Fassets\u002Fstatic\u002FObsessao-por-tipos-primitivos.07cc2b7.47f730cbf75a60d7b9cd3c8e459e4a48.jpg 860w"],"dataUri":"data:image\u002Fsvg+xml,%3csvg fill='none' viewBox='0 0 860 574' xmlns='http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg' xmlns:xlink='http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-39c85ac8c7ce9e1e5fe3d49af7f95911'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='10'\u002F%3e%3c\u002Ffilter%3e%3c\u002Fdefs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-39c85ac8c7ce9e1e5fe3d49af7f95911)' width='860' height='574' xlink:href='data:image\u002Fjpeg%3bbase64%2c\u002F9j\u002F2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj\u002F2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj\u002FwAARCAArAEADASIAAhEBAxEB\u002F8QAGQAAAwEBAQAAAAAAAAAAAAAABAUGAwIH\u002F8QALhAAAgIBAwIFBAIBBQAAAAAAAQIDBBEAEiEFMRMiQVFhBhRxkTKBIyQzQkOh\u002F8QAGQEAAwEBAQAAAAAAAAAAAAAAAgMEAQAF\u002F8QAIBEAAgICAgMBAQAAAAAAAAAAAQIAEQMhEkETIjEEUf\u002FaAAwDAQACEQMRAD8A8MpEdTV4Z1Kb2DEqeCM8AH9acJ9JmZN9Moqgebf2zpXSqzxQzLSdLMbDcUfiWIAegH8x%2bP1o6r1m9c\u002F0ME22tGMtKi8sPQfGlkX9iSrA8h8gorv0lmIhKMG83mzxoKWx1CSRmiJcyEDA\u002FwCKjTuGuDFOtpfE825Wz6AdtbPYq0ehyitA7E8SSOMGQ%2bp\u002FHxoPYaJjcaBjyO5ORV71m\u002FsgnEKL\u002FOTOCo9vnWj9IrzLJNCJ7eOGkdgo3f3oulFVt2AZIPOxDbMsOBjn20V1R4YesR0atZ4wcCQbsrz8e2uYNcpVRj6u5P2Olmv\u002FAJkgj2MpGQ4fQt%2bkft1sb9w4QKOcafdRpwU5pdyjwcgBgCoBbPl\u002FWuZ66wpBUrxEsqtKWLcYHv8AgnWoDe5JkzoxBUQH71rJT7aJywOVEQJb%2byO2m9e6fuGS6kUdns7p6%2b289ifn96nK8t%2bORlaJ0VlI2CMqv5GiYukW7cHjbXMUTebYhPJ76ZdHcb41CcTKhrlRFHiNkBwHUgh8fA7f3nWV6KnI0kcCNFC7FljaTcce2kcFaeSmy%2bGU2jIJ48vocf1renWskC\u002FPBI9NX\u002FyEe2l5W3QlX5sKILr7KvqH09L0av0efxWLXlLuFGTGvp\u002F566mLNHxrPjw2W4lK%2bJKfjvjTm\u002Fbv3Ltu5bsxSQSKEhWN9uxQPIqqfbWPTlfrRrRw1lVN%2bzw9mNxHc59fnQmybU6jjQWiNzOOBkpNFYuPOikd1BCnuNBdUEkatZLxl\u002FBOAB\u002FHnJOqD6u6TN0SBTK%2b5nk2eUAgKPXjtk9h7ajprcc9coyeU43D39%2bffRK88hvyuns0JpTVLEEsFFLayxJ4oJmIBAIyOOcYyedNoerzRwCW9JLBGgHkicjcQOx55z7DSD6bPh9ehiQBYzuUgDuPY646tI8tiOORiUVVIHsT308ADcpZidw9epSyyy2VUu7\u002FAO6ox5QR5QPgDXF%2bz1SxHJVrCSKg5G1RwCcZwc\u002FjOu\u002FqGNK9WJIFEalFJ2DBJx6n10Nve1Tjjnd3SIYRdxwOBpSr7Fv7KGYhQh6mVJTZsVYJJt6O%2bwbjhlI4xxxqv%2bnb0v051KaWalJJFASkPinAXvl8jORx66mOnRIOp1CFAMdoKuB2GM6NRmsU7zzMWZpFJOee2sGm49VMd%2bCeTu4N1zr9vqfULVy1ZeNJWzsj2BR7Dk89tJwK0su%2bVrBB\u002FwCzcDg\u002FAHGnroqwBQAQA2M8n9nUezFmYE8buw4GjCjqTrn8h3P\u002F2Q==' \u002F%3e%3c\u002Fsvg%3e"}}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.542c1657.js" defer></script><script src="/assets/js/page--src--templates--post-vue.de35c525.js" defer></script>
  </body>
</html>